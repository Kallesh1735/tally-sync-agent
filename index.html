<!-- index.html - GIROPie Tally Sync Agent -->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>GIROPie Tally Sync Agent</title>
    <link rel="stylesheet" href="base.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header id="appHeader" class="header">
        <h1>GIROPie Tally Agent</h1>
        <p class="subtitle">Sync invoices from Tally Prime</p>
      </header>

      <!-- Screen 0: Welcome -->
      <div id="screen-welcome" class="screen">
        <div class="card welcome-card">
          <div class="welcome-orb" aria-hidden="true">
            <span class="orb-core">&#8635;</span>
            <span class="orb-dot orb-dot-a"></span>
            <span class="orb-dot orb-dot-b"></span>
          </div>
          <h2 class="welcome-title">Welcome to GIROPie Tally Agent</h2>
          <p class="welcome-subtitle">Secure invoice sync from Tally Prime to Giropie in a few clicks.</p>
          <div class="brand-flow welcome-flow" aria-hidden="true">
            <div class="brand-pill tally">
              <span class="brand-logo-wrap">
                <img class="brand-logo" src="assets/tally-prime-logo.png" alt="Tally" />
              </span>
              <span class="brand-text">Tally</span>
            </div>
            <div class="brand-bridge">
              <span class="flow-dot"></span>
              <span class="flow-line"></span>
              <span class="flow-arrow">&#10132;</span>
            </div>
            <div class="brand-pill giropie">
              <span class="brand-logo-wrap">
                <img class="brand-logo" src="assets/giropie-logo.png" alt="Giropie" />
              </span>
              <span class="brand-text">Giropie</span>
            </div>
          </div>
          <button id="welcomeProceedBtn" class="btn btn-primary welcome-proceed-btn" type="button">
            <span>Proceed</span>
            <span class="arrow" aria-hidden="true">&#10132;</span>
          </button>
        </div>
      </div>

      <!-- Screen 1: Login -->
      <div id="screen-login" class="screen" style="display:none;">
        <div class="card">
          <div class="brand-flow" aria-hidden="true">
            <div class="brand-pill tally">
              <span class="brand-logo-wrap">
                <img class="brand-logo" src="assets/tally-prime-logo.png" alt="Tally" />
              </span>
              <span class="brand-text">Tally</span>
            </div>
            <div class="brand-bridge">
              <span class="flow-dot"></span>
              <span class="flow-line"></span>
              <span class="flow-arrow">&#10132;</span>
            </div>
            <div class="brand-pill giropie">
              <span class="brand-logo-wrap">
                <img class="brand-logo" src="assets/giropie-logo.png" alt="Giropie" />
              </span>
              <span class="brand-text">Giropie</span>
            </div>
          </div>
          <div id="companyHint" class="msg msg-warning"></div>
          <h2>Login</h2>
          <input id="email" type="email" placeholder="Email" class="input" />
          <input id="password" type="password" placeholder="Password" class="input" />
          <button id="loginBtn" class="btn btn-primary">Login</button>
          <div id="loginMsg" class="msg"></div>
        </div>
      </div>

      <!-- Screen 2: Method Selection -->
      <div id="screen-method" class="screen" style="display:none;">
        <div class="card">
          <h2>Choose Sync Method</h2>
          <div class="method-cards">
            <button id="method-live" class="method-card">
              <span class="method-icon live" aria-hidden="true">
                <svg class="method-svg" viewBox="0 0 24 24" role="img">
                  <path d="M13.5 2L4 13h6l-1.5 9L20 11h-6l-0.5-9z" />
                </svg>
              </span>
              <div class="method-text">
                <span class="method-title">Live Sync</span>
                <span class="method-desc">Connect directly to Tally</span>
              </div>
            </button>
            <button id="method-folder" class="method-card">
              <span class="method-icon folder" aria-hidden="true">
                <svg class="method-svg" viewBox="0 0 24 24" role="img">
                  <path d="M3 6.5A2.5 2.5 0 0 1 5.5 4h4.2l1.6 1.6H18.5A2.5 2.5 0 0 1 21 8.1V18a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6.5z" />
                </svg>
              </span>
              <div class="method-text">
                <span class="method-title">Folder Import</span>
                <span class="method-desc">Watch folder for XML files</span>
              </div>
            </button>
          </div>
          <button id="method-back-to-login" class="btn btn-secondary">Back</button>
        </div>
      </div>

      <!-- Screen 3: Sync -->
      <div id="screen-sync" class="screen" style="display:none;">
        <div class="card">
          <h2>Sync: <span id="selectedMethodText"></span></h2>
          <div class="sync-visual">
            <div class="sync-icon">&#128260;</div>
          </div>
          <div class="sync-summary">
            <div class="summary-row">
              <span>Last sync</span>
              <span id="lastSyncStatus">-</span>
            </div>
            <div class="summary-row">
              <span>Last synced at</span>
              <span id="lastSyncAt">-</span>
            </div>
            <div class="summary-row">
              <span>Next window</span>
              <span id="nextSyncWindow">-</span>
            </div>
            <div class="summary-row">
              <span>Last payload</span>
              <span id="lastPayloadCount">-</span>
            </div>
            <div class="summary-row">
              <span>Total amount</span>
              <span id="lastTotalAmount">-</span>
            </div>
          </div>
          <div id="syncMsg" class="msg"></div>
          <div class="sync-actions">
            <button id="startSyncBtn" class="btn btn-primary">Start Sync</button>
            <button id="changeMethodBtn" class="btn btn-secondary">Change Method</button>
            <button id="fullSyncBtn" class="btn btn-secondary full-sync-btn">Full Sync</button>
          </div>
          <button id="logoutBtn" class="btn btn-secondary logout-btn">Logout</button>
        </div>
      </div>

      <!-- Footer -->
      <footer class="footer">
        <p>v1.0.0 | <a href="https://giropie.com" target="_blank">giropie.com</a></p>
      </footer>
    </div>
    <script src="renderer.js"></script>
  </body>
</html>
